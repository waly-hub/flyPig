{"version":3,"sources":["webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/main.js","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue?c5bd","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue?675c","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue?10ac","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue?0c74","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue?0cee","webpack:///C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue?08a0"],"names":["createPage","Page","util","require","time","formatTime","Date","db","wx","cloud","database","users","collection","name","components","HMmessages","motal","data","num","fication","uploadvideos","watchaddress","classdata","titledata","tipsdata","topimg","videos","address","avatarUrl","nickName","openid","reldata","relend","methods","menubtn","index","console","log","uploadImg","uni","chooseImage","count","sizeType","sourceType","success","res","push","tempFilePaths","deleteImg","splice","preImage","imglist","then","catch","err","uploadVideo","showLoading","title","chooseVideo","maxDuration","tempFilePath","hideLoading","deleteVideo","addRess","city","result","ad_info","chooseCity","navigateTo","url","suBmitd","tip","proMpt","length","userinfo","get","message","$nextTick","$refs","mon","init","usermen","_openid","userdata","staticImg","staticimg","staticVideo","staticvideo","cloudData","imgfileID","Promise","resolve","reject","forEach","img","imgion","lastIndexOf","eximg","slice","cloudpath","now","Math","floor","random","uploadFile","cloudPath","filePath","fileID","error","videoion","exvideo","datas","add","datainfo","pagesid","setTimeout","switchTab","$store","commit","show","icon","iconColor","fontColor","background","created","computed","travecity","traveing","watch","newValue","oldValue"],"mappings":"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","file":"pages/travels/travels.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/travels/travels.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./travels.vue?vue&type=template&id=796869b1&scoped=true&\"\nvar renderjs\nimport script from \"./travels.vue?vue&type=script&lang=js&\"\nexport * from \"./travels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./travels.vue?vue&type=style&index=0&id=796869b1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"796869b1\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('796869b1')) {\n      api.createRecord('796869b1', component.options)\n    } else {\n      api.reload('796869b1', component.options)\n    }\n    module.hot.accept(\"./travels.vue?vue&type=template&id=796869b1&scoped=true&\", function () {\n      api.rerender('796869b1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/waly/Desktop/飞猪旅游/alitraver/pages/travels/travels.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travels.vue?vue&type=template&id=796869b1&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travels.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 引入预览图片\nimport {preview,addressdata} from '../../common/list.js'\nimport {mapState} from 'vuex'\n// 引入即可反馈组件\nimport HMmessages from \"@/components/HM-messages/HM-messages.vue\"\n// 引入模态框\nimport motal from '../../element/modal.vue'\n// 引入当前时间的js\nvar util = require('../../common/util.js');\nvar time = util.formatTime(new Date());\n// 定义数据库\nvar db = wx.cloud.database()\nvar users = db.collection('user')\nexport default{\n\tname:'travels',\n\tcomponents: {HMmessages,motal},\n\tdata() {\n\t\treturn {\n\t\t\tnum:0,\n\t\t\tfication: [\n\t\t\t\t{\n\t\t\t\t\t\"name\":'景点'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\":'美食'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\":'网红打卡'\n\t\t\t\t}\n\t\t\t],\n\n\t\t\tuploadvideos:false,\n\t\t\twatchaddress:'',\n\t\t\tclassdata:'景点',  //分类\n\t\t\ttitledata:'',   //标题\n\t\t\ttipsdata:'',   //描述\n\t\t\ttopimg:[],   //上传的图片\n\t\t\tvideos:'',  //上传的视频\n\t\t\taddress:'', //选择的城市\n\t\t\tavatarUrl:'', // 用户头像\n\t\t\tnickName:'', // 用户昵称\n\t\t\topenid :''\t,// 用户openid\n\t\t\t// 提示用户正在发布\n\t\t\treldata:'正在发布...请勿关闭该页面',\n\t\t\trelend:false\n\t\t\t\n\t\t\t\n\t\t}\n\t},\n\tmethods:{\n\t\tmenubtn(index,name){\n\t\t\tthis.num = index\n\t\t\tconsole.log(name)\n\t\t\tthis.classdata  =name\n\t\t},\n\t\t// 上传图片\n\t\tuploadImg(){\n\t\t\tuni.chooseImage({\n\t\t\t    count: 9, //默认9\n\t\t\t    sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t    sourceType: ['album'], //从相册选择\n\t\t\t    success: (res)=> {\n\t\t\t        // console.log(...res.tempFilePaths);\n\t\t\t\t\tthis.topimg.push(...res.tempFilePaths)\n\t\t\t\t\t\n\t\t\t    }\n\t\t\t});\n\t\t},\n\t\t// 删除图片\n\t\tdeleteImg(index){\n\t\t\tconsole.log(index)\n\t\t\tthis.topimg.splice(index,1)\n\t\t\tconsole.log(this.topimg)\n\t\t},\n\t\t// 预览图片\n\t\tpreImage(index){\n\t\t\t// console.log(index)\n\t\t\t// 预览图片\n\t\t\tlet imglist = this.topimg\n\t\t\tpreview(index,imglist)\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log('预览成功')\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log('预览失败')\n\t\t\t})\n\t\t},\n\t\t// 上传视频\n\t\tuploadVideo(){\n\t\t\tuni.showLoading({\n\t\t\t    title: '上传中'\n\t\t\t});\n\t\t\tuni.chooseVideo({\n\t\t\t\tcount: 1,\n\t\t\t\tsourceType: ['camera', 'album'],\n\t\t\t\tmaxDuration:20,\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.videos = res[1].tempFilePath\n\t\t\t\tthis.uploadvideos = true\n\t\t\t\tuni.hideLoading();\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t\n\t\t},\n\t\t// 删除视频\n\t\tdeleteVideo(){\n\t\t\tthis.videos = ''\n\t\t\tthis.uploadvideos = false\n\t\t},\n\t\t\n\t\t// 定位\n\t\taddRess(){\n\t\t\taddressdata()\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res)\n\t\t\t\tlet city = res.result.ad_info.city\n\t\t\t\tthis.address = city\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(err)\n\t\t\t\tthis.address = '昆明市'\n\t\t\t})\n\t\t},\n\t\t// 跳转到选择城市页面\n\t\tchooseCity(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../city/city'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 提交\n\t\tsuBmitd(){\n\t\t\t// console.log('11222')\n\t\t\t// console.log(this.classdata)\n\t\t\t// console.log(this.titledata)\n\t\t\t// console.log(this.tipsdata)\n\t\t\t// console.log(this.topimg)\n\t\t\t// console.log(this.videos)\n\t\t\t// console.log(this.address)\n\t\t\tif(this.titledata == ''){\n\t\t\t\tlet tip = '标题必填'\n\t\t\t\tthis.proMpt(tip)\n\t\t\t}else if(this.tipsdata == ''){\n\t\t\t\tlet tip = '描述必填'\n\t\t\t\tthis.proMpt(tip)\n\t\t\t}else if(this.topimg.length < 3){\n\t\t\t\tlet tip = '上传的图片不少于三张'\n\t\t\t\tthis.proMpt(tip)\n\t\t\t}else{\n\t\t\t\tconsole.log('可以提交')\n\t\t\t\t// 判断用户是否登录，登录再提交\n\t\t\t\tthis.userinfo()\n\t\t\t}\n\t\t},\n\t\t\n\t\t\n\t\t// 判断用户是否登录\n\t\tuserinfo(){\n\t\t\t// 请求数据库查看用户是否存在，存在就是登陆，反之未登录\n\t\t\tusers.get()\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res)\n\t\t\t\t// length == 0说明用户没有登录\n\t\t\t\tif(res.data.length == 0){\n\t\t\t\t\tconsole.log('没有登录')\n\t\t\t\t\t// 弹出模态框\n\t\t\t\t\tlet message = '请登录后再操作'\n\t\t\t\t\tthis.$nextTick(()=>{   //dom更新循环结束之后的延迟回调\n\t\t\t\t\t\tthis.$refs.mon.init(message)\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log('已经登陆')\n\t\t\t\t\t// 取到用户头像，昵称，openid\n\t\t\t\t\tlet usermen = res.data[0]\n\t\t\t\t\tthis.avatarUrl = usermen.avatarUrl\n\t\t\t\t\tthis.nickName = usermen.nickName\n\t\t\t\t\tthis.openid  = usermen._openid\n\t\t\t\t\t// 可以上传用户提交的数据到数据库\n\t\t\t\t\tthis.relend = true\n\t\t\t\t\tthis.userdata()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 用户上传数据到数据库：1，await 先上传图片到云储存，2，await 上传视频到云储存，3，await 上传所有数据到数据库\n\t\tasync userdata(){\n\t\t\t// 先等待图片上传到云存储\n\t\t\tlet staticimg = await this.staticImg()\n\t\t\tconsole.log(staticimg)\n\t\t\t// 等待视频上传到存储\n\t\t\tlet staticvideo = await this.staticVideo()\n\t\t\tconsole.log(staticvideo)\n\t\t\t// 最后一步把用户填写的所有数据一并提交到数据库\n\t\t\tawait this.cloudData(staticimg,staticvideo)\n\t\t},\n\t\t\n\t\t// 先等待图片上传到云存储\n\t\tstaticImg(){\n\t\t\t// 把上传成功返回的图片放到数组里\n\t\t\tvar imgfileID = []\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t// 取出图片数组里的每一项,forEach遍历类似for(i=0,)\n\t\t\t\tthis.topimg.forEach((img)=>{\n\t\t\t\t\t// console.log(img)\n\t\t\t\t\t// 随机字符串，拼接图片名称，防止同名文件产生，而被后一个覆盖前一个文件\n\t\t\t\t\tlet imgion = img.lastIndexOf('.')\n\t\t\t\t\tlet eximg = img.slice(imgion)\n\t\t\t\t\tlet cloudpath = `${Date.now()}-${Math.floor(Math.random(0,1) * 10000000)}${eximg}`\n\t\t\t\t\t// console.log(cloudpath)\n\t\t\t\t\twx.cloud.uploadFile({\n\t\t\t\t\t  cloudPath: 'static/' + cloudpath,\n\t\t\t\t\t  filePath: img, // 文件路径\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t  console.log('图片上传完成')\n\t\t\t\t\t  imgfileID.push(res.fileID)\n\t\t\t\t\t  // console.log(imgfileID)\n\t\t\t\t\t  // 判断云存储返回的图片是否和用户上传的图片一样多\n\t\t\t\t\t  if(imgfileID.length == this.topimg.length){\n\t\t\t\t\t\t  resolve(imgfileID)\n\t\t\t\t\t  }\n\t\t\t\t\t  \n\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t})\n\t\t\t\t}) \n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t\t// 先等待视频上传到云存储\n\t\tstaticVideo(){\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t// 用户是否要上传视频\n\t\t\t\tif(this.videos == ''){\n\t\t\t\t\tconsole.log('用户不上传')\n\t\t\t\t\tresolve('')\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log('要上传')\n\t\t\t\t\t// 随机字符串，拼接图片名称，防止同名文件产生，而被后一个覆盖前一个文件\n\t\t\t\t\tlet videoion = this.videos.lastIndexOf('.')\n\t\t\t\t\tlet exvideo = this.videos.slice(videoion)\n\t\t\t\t\tlet cloudpath = `${Date.now()}-${Math.floor(Math.random(0,1) * 10000000)}${exvideo}`\n\t\t\t\t\t// console.log(cloudpath)\n\t\t\t\t\twx.cloud.uploadFile({\n\t\t\t\t\t\tcloudPath: 'staticvideo/' + cloudpath,\n\t\t\t\t\t\tfilePath: this.videos, // 文件路径\n\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\tconsole.log('视频上传完毕')\n\t\t\t\t\t\tresolve(res.fileID)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err)=>{\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 最后一步把用户填写的所有数据一并提交到数据库\n\t\tcloudData(staticimg,staticvideo){\n\t\t\tlet datas = {\n\t\t\t\tclassdata:this.classdata,  //分类\n\t\t\t\ttitledata:this.titledata, //标题\n\t\t\t\ttipsdata:this.tipsdata,  // 描述\n\t\t\t\tstaticimg:staticimg,   //图片\n\t\t\t\tstaticvideo:staticvideo,  //视频\n\t\t\t\taddress:this.address,   //定位\n\t\t\t\tavatarUrl:this.avatarUrl,  //头像\n\t\t\t\tnickName:this.nickName,   //昵称\n\t\t\t\topenid:this.openid,\n\t\t\t\ttime:time\n\t\t\t}\n\t\t\tdb.collection('userdata').add({\n\t\t\t\t// data里面表示要上传的数据\n\t\t\t\tdata:{\n\t\t\t\t\tdatainfo:datas\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res)\n\t\t\t\t// 提示用户发布成功，跳转到攻略页面\n\t\t\t\tthis.reldata = '发布成功，正在跳转...'\n\t\t\t\t// 用户发表景点成功，传值给攻略页面让攻略页面再次请求数据\n\t\t\t\tlet pagesid = true\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tuni.switchTab({ \n\t\t\t\t\t\turl:'../strategy/strategy'\n\t\t\t\t\t})\n\t\t\t\t\tthis.$store.commit('roturnmuta',pagesid)\n\t\t\t\t},1700)\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t\t\n\t\t// 及时反馈\n\t\tproMpt(tip){\n\t\t\tthis.HMmessages.show(tip,{icon:'error',iconColor:'#ffffff',fontColor:'#ffffff', background:\"rgba(102,0,51,0.8)\"})\n\t\t}\n\t\t\n\t},\n\tcreated() {\n\t\t// 定位\n\t\tthis.addRess()\n\t},\n\t// 计算属性\n\tcomputed:{\n\t\t...mapState(['travecity']),\n\t\tcount(){\n\t\t\tthis.watchaddress = this.travecity.traveing\n\t\t}\n\t},\n\twatch:{\n\t\twatchaddress(newValue,oldValue){\n\t\t\tconsole.log(newValue)\n\t\t\tthis.address = newValue\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travels.vue?vue&type=style&index=0&id=796869b1&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travels.vue?vue&type=style&index=0&id=796869b1&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}